<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Debugging and Profiling - MYC-Missing-Semester</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">About</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../notes.html"><strong aria-hidden="true">1.</strong> notes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../notes/Command-line-Environment.html"><strong aria-hidden="true">1.1.</strong> Command-line Environment</a></li><li class="chapter-item expanded "><a href="../notes/data-wrangling.html"><strong aria-hidden="true">1.2.</strong> data wrangling</a></li><li class="chapter-item expanded "><a href="../notes/Debugging-and-Profiling.html" class="active"><strong aria-hidden="true">1.3.</strong> Debugging and Profiling</a></li><li class="chapter-item expanded "><a href="../notes/metaprogramming.html"><strong aria-hidden="true">1.4.</strong> metaprogramming</a></li><li class="chapter-item expanded "><a href="../notes/Git.html"><strong aria-hidden="true">1.5.</strong> Git</a></li><li class="chapter-item expanded "><a href="../notes/security.html"><strong aria-hidden="true">1.6.</strong> security</a></li><li class="chapter-item expanded "><a href="../notes/Vim.html"><strong aria-hidden="true">1.7.</strong> Vim</a></li><li class="chapter-item expanded "><a href="../notes/shell.html"><strong aria-hidden="true">1.8.</strong> shell</a></li></ol></li><li class="chapter-item expanded "><a href="../solutions.html"><strong aria-hidden="true">2.</strong> solutions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../solutions/1.html"><strong aria-hidden="true">2.1.</strong> 1</a></li><li class="chapter-item expanded "><a href="../solutions/2.html"><strong aria-hidden="true">2.2.</strong> 2</a></li><li class="chapter-item expanded "><a href="../solutions/3.html"><strong aria-hidden="true">2.3.</strong> 3</a></li><li class="chapter-item expanded "><a href="../solutions/4.html"><strong aria-hidden="true">2.4.</strong> 4</a></li><li class="chapter-item expanded "><a href="../solutions/5.html"><strong aria-hidden="true">2.5.</strong> 5</a></li><li class="chapter-item expanded "><a href="../solutions/6.html"><strong aria-hidden="true">2.6.</strong> 6</a></li><li class="chapter-item expanded "><a href="../solutions/7.html"><strong aria-hidden="true">2.7.</strong> 7</a></li><li class="chapter-item expanded "><a href="../solutions/8.html"><strong aria-hidden="true">2.8.</strong> 8</a></li><li class="chapter-item expanded "><a href="../solutions/9.html"><strong aria-hidden="true">2.9.</strong> 9</a></li></ol></li><li class="chapter-item expanded "><a href="../more-information.html"><strong aria-hidden="true">3.</strong> more-information</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../more-information/Github.html"><strong aria-hidden="true">3.1.</strong> Github</a></li><li class="chapter-item expanded "><a href="../more-information/makefile.html"><strong aria-hidden="true">3.2.</strong> makefile</a></li><li class="chapter-item expanded "><a href="../more-information/tmux.html"><strong aria-hidden="true">3.3.</strong> tmux</a></li><li class="chapter-item expanded "><a href="../more-information/Pro-Git.html"><strong aria-hidden="true">3.4.</strong> Pro-Git</a></li><li class="chapter-item expanded "><a href="../more-information/mdbook.html"><strong aria-hidden="true">3.5.</strong> mdbook</a></li><li class="chapter-item expanded "><a href="../more-information/Vim.html"><strong aria-hidden="true">3.6.</strong> Vim</a></li><li class="chapter-item expanded "><a href="../more-information/shell-programming.html"><strong aria-hidden="true">3.7.</strong> shell-programming</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">MYC-Missing-Semester</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="most-of-all"><a class="header" href="#most-of-all">Most of all</a></h1>
<p>The golden rule in programming is that code will not run the way you expect it to, but rather the way you tell it to. Debugging and performance analysis are useful techniques for dealing with flawed and resource-intensive code. Debugging can be done using Printf debugging and logging, while performance analysis can use timers and analyzers. Static analysis tools can help identify issues in the code, while code formatting tools can automatically format the code to conform to common programming language styles. Monitoring tools and analyzers can help understand which parts of a program take up the most time and/or resources so that these areas can be optimized.</p>
<h1 id="lec-notes"><a class="header" href="#lec-notes">Lec Notes</a></h1>
<h2 id="debugging"><a class="header" href="#debugging">Debugging</a></h2>
<p>Learn to use Logger instead of print.</p>
<p>Python Debugger is pdb</p>
<p>The lecture suggests using gdb and lldb for low level programming.</p>
<h3 id="specialized-tools"><a class="header" href="#specialized-tools">Specialized Tools</a></h3>
<p>Use strace in Linux.</p>
<h3 id="static-analysis"><a class="header" href="#static-analysis">Static Analysis</a></h3>
<p>pyflakes, pylint and mypy</p>
<p>shellcheck</p>
<h2 id="profiling"><a class="header" href="#profiling">Profiling</a></h2>
<p>Timing is a good choice.</p>
<p>The distinction between Real, User and Sys time is important as wall clock time can be misleading due to other processes running or waiting for events. User + Sys indicates the actual CPU time spent by a process.</p>
<ul>
<li>Real - Wall clock elapsed time from start to finish of the program, including the time taken by other processes and time taken while blocked (e.g. waiting for I/O or network)</li>
<li>User - Amount of time spent in the CPU running user code</li>
<li>Sys - Amount of time spent in the CPU running kernel code</li>
</ul>
<h3 id="cpu"><a class="header" href="#cpu">CPU</a></h3>
<p>cProfile</p>
<h3 id="memory"><a class="header" href="#memory">Memory</a></h3>
<p>memory-profiler</p>
<h3 id="event"><a class="header" href="#event">Event</a></h3>
<p>perf</p>
<h3 id="visualization"><a class="header" href="#visualization">Visualization</a></h3>
<p>Flame graph</p>
<h3 id="resource-monitoring"><a class="header" href="#resource-monitoring">Resource Monitoring</a></h3>
<ul>
<li><strong>I/O operations</strong> - <code>iotop</code> displays live I/O usage information and is handy to check if a process is doing heavy I/O disk operations</li>
<li><strong>Disk Usage</strong> - <code>df</code> displays metrics per partitions and du displays disk usage per file for the current directory. In these tools the -h flag tells the program to print with human readable format. A more interactive version of du is ncdu which lets you navigate folders and delete files and folders as you navigate.</li>
<li><strong>Memory Usage</strong> - <code>free</code> displays the total amount of free and used memory in the system. Memory is also displayed in tools like htop.</li>
<li><strong>Open Files</strong> - <code>lsof</code> lists file information about files opened by processes. It can be quite useful for checking which process has opened a specific file.</li>
<li><strong>Network Connections and Config</strong> - <code>ss</code> lets you monitor incoming and outgoing network packets statistics as well as interface statistics. A common use case of ss is figuring out what process is using a given port in a machine. For displaying routing, network devices and interfaces you can use ip. Note that netstat and ifconfig have been deprecated in favor of the former tools respectively.</li>
<li><strong>Network Usage</strong> - <code>nethogs</code> and <code>iftop</code> are good interactive CLI tools for monitoring network usage.
If you want to test these tools you can also artificially impose loads on the machine using the stress command.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../notes/data-wrangling.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../notes/metaprogramming.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../notes/data-wrangling.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../notes/metaprogramming.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
